[gd_scene load_steps=21 format=2]

[ext_resource path="res://City.gdns" type="Script" id=1]
[ext_resource path="res://default_env.tres" type="Environment" id=2]
[ext_resource path="res://Resources/PowerPlant.tscn" type="PackedScene" id=3]
[ext_resource path="res://KinematicBody.gdns" type="Script" id=4]
[ext_resource path="res://Resources/WindMill.tscn" type="PackedScene" id=5]
[ext_resource path="res://Ressources/Icons/RoofWindTurb1.png" type="Texture" id=6]
[ext_resource path="res://Ressources/Icons/RoofWindTurb2.png" type="Texture" id=7]
[ext_resource path="res://MyTheme.tres" type="Theme" id=8]
[ext_resource path="res://integerLineEdit.gd" type="Script" id=9]
[ext_resource path="res://Ressources/Roboto/Roboto-Black.ttf" type="DynamicFontData" id=10]
[ext_resource path="res://Resources/Mall.tscn" type="PackedScene" id=11]
[ext_resource path="res://Font.tres" type="DynamicFont" id=12]

[sub_resource type="SphereShape" id=1]

[sub_resource type="Shader" id=2]
code = "shader_type canvas_item;

uniform float blur_amount = 3.0;

void fragment()
{
	COLOR = textureLod(SCREEN_TEXTURE, SCREEN_UV, blur_amount);
}
"

[sub_resource type="ShaderMaterial" id=3]
shader = SubResource( 2 )
shader_param/blur_amount = 3.0

[sub_resource type="StyleBoxTexture" id=4]
texture = ExtResource( 7 )
region_rect = Rect2( 0, 0, 347, 100 )
expand_margin_left = 247.0

[sub_resource type="StyleBoxTexture" id=5]
texture = ExtResource( 6 )
region_rect = Rect2( 0, 0, 100, 100 )

[sub_resource type="StyleBoxTexture" id=6]
texture = ExtResource( 6 )
region_rect = Rect2( 0, 0, 100, 100 )

[sub_resource type="RectangleShape2D" id=7]

[sub_resource type="DynamicFont" id=8]
size = 60
use_mipmaps = true
font_data = ExtResource( 10 )

[node name="Main" type="Spatial"]

[node name="3Dworld" type="Spatial" parent="."]
script = ExtResource( 1 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="3Dworld"]
environment = ExtResource( 2 )

[node name="DirectionalLight" type="DirectionalLight" parent="3Dworld/WorldEnvironment"]
transform = Transform( 0.737796, -0.477997, 0.47663, 0, 0.706094, 0.708118, -0.675024, -0.522447, 0.520953, 0, 30.4054, 0 )
shadow_enabled = true
shadow_bias = 0.0
directional_shadow_max_distance = 1000.0

[node name="KinematicBody" type="KinematicBody" parent="3Dworld"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5638, 33.7579, 82.5155 )
script = ExtResource( 4 )

[node name="ClippedCamera" type="ClippedCamera" parent="3Dworld/KinematicBody"]
transform = Transform( 1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 0, 0, 0 )
environment = ExtResource( 2 )
fov = 35.0
far = 1000.0

[node name="CollisionShape" type="CollisionShape" parent="3Dworld/KinematicBody"]
transform = Transform( 1, 0, 0, 0, 0.905702, -0.423915, 0, 0.423915, 0.905702, -1.5638, -0.58039, -6.59145 )
shape = SubResource( 1 )

[node name="Spatial" parent="3Dworld" instance=ExtResource( 3 )]
transform = Transform( 10, 0, 0, 0, 10, 0, 0, 0, 10, 15, 0, -45 )

[node name="Windmill" parent="3Dworld" instance=ExtResource( 5 )]
transform = Transform( 10, 0, 0, 0, 10, 0, 0, 0, 10, 60, 0, -30 )

[node name="StaticBody2" parent="3Dworld" instance=ExtResource( 11 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 75, 0, 15 )

[node name="2D layer" type="Spatial" parent="."]

[node name="2Dworld" type="Node2D" parent="."]

[node name="Slider" type="Node2D" parent="2Dworld"]

[node name="HSlider" type="HSlider" parent="2Dworld/Slider"]
margin_left = 728.0
margin_top = 24.0
margin_right = 1404.0
margin_bottom = 96.0
focus_mode = 0
mouse_default_cursor_shape = 2
theme = ExtResource( 8 )
max_value = 4.0
value = 1.0
rounded = true
scrollable = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="2Dworld/Slider"]
margin_left = 500.0
margin_top = 24.0
margin_right = 700.0
margin_bottom = 94.0
custom_fonts/font = ExtResource( 12 )
text = "Game speed :"
align = 2
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label2" type="Label" parent="2Dworld/Slider"]
margin_left = 704.0
margin_top = 80.0
margin_right = 776.0
margin_bottom = 150.0
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 1, 1, 0.352941 )
text = "II"
align = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label3" type="Label" parent="2Dworld/Slider"]
margin_left = 848.0
margin_top = 80.0
margin_right = 953.0
margin_bottom = 150.0
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 1, 1, 0.352941 )
text = "- X1"
align = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label4" type="Label" parent="2Dworld/Slider"]
margin_left = 1032.0
margin_top = 80.0
margin_right = 1104.0
margin_bottom = 150.0
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 1, 1, 0.352941 )
text = "X2"
align = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label5" type="Label" parent="2Dworld/Slider"]
margin_left = 1196.0
margin_top = 80.0
margin_right = 1268.0
margin_bottom = 150.0
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 1, 1, 0.352941 )
text = "X4"
align = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label6" type="Label" parent="2Dworld/Slider"]
margin_left = 1360.0
margin_top = 80.0
margin_right = 1432.0
margin_bottom = 159.0
custom_fonts/font = ExtResource( 12 )
custom_colors/font_color = Color( 1, 1, 1, 0.352941 )
text = "X8
"
align = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Blur" type="Node2D" parent="2Dworld"]
visible = false

[node name="ColorRect" type="ColorRect" parent="2Dworld/Blur"]
material = SubResource( 3 )
margin_left = -47.1433
margin_top = -26.9391
margin_right = 2019.86
margin_bottom = 1115.06
rect_pivot_offset = Vector2( 536.625, 1828.64 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Menus" type="KinematicBody2D" parent="2Dworld"]

[node name="MenuShop" type="Node2D" parent="2Dworld/Menus"]
visible = false
position = Vector2( -1, 0 )

[node name="RoofWindTurbines2" type="Button" parent="2Dworld/Menus/MenuShop"]
margin_left = -140.0
margin_top = -50.0
margin_right = -40.0
margin_bottom = 50.0
mouse_default_cursor_shape = 2
custom_styles/hover = SubResource( 4 )
custom_styles/pressed = SubResource( 5 )
custom_styles/normal = SubResource( 6 )
action_mode = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RoofWindTurbines3" type="Button" parent="2Dworld/Menus/MenuShop"]
margin_left = -46.0
margin_top = -156.0
margin_right = 54.0
margin_bottom = -56.0
mouse_default_cursor_shape = 2
custom_styles/hover = SubResource( 4 )
custom_styles/pressed = SubResource( 5 )
custom_styles/normal = SubResource( 6 )
action_mode = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RoofWindTurbines4" type="Button" parent="2Dworld/Menus/MenuShop"]
margin_left = 52.0
margin_top = -52.0
margin_right = 152.0
margin_bottom = 48.0
mouse_default_cursor_shape = 2
custom_styles/hover = SubResource( 4 )
custom_styles/pressed = SubResource( 5 )
custom_styles/normal = SubResource( 6 )
action_mode = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="RoofWindTurbines5" type="Button" parent="2Dworld/Menus/MenuShop"]
margin_left = -44.0
margin_top = 56.0
margin_right = 56.0
margin_bottom = 156.0
mouse_default_cursor_shape = 2
custom_styles/hover = SubResource( 4 )
custom_styles/pressed = SubResource( 5 )
custom_styles/normal = SubResource( 6 )
action_mode = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="2Dworld/Menus"]
shape = SubResource( 7 )

[node name="PoliciesInput" type="Node2D" parent="2Dworld"]

[node name="TextEdit" type="LineEdit" parent="2Dworld/PoliciesInput"]
margin_left = 500.0
margin_top = 420.0
margin_right = 1420.0
margin_bottom = 520.0
theme = ExtResource( 8 )
custom_fonts/font = SubResource( 8 )
align = 1
max_length = 7
context_menu_enabled = false
virtual_keyboard_enabled = false
shortcut_keys_enabled = false
selecting_enabled = false
placeholder_text = "0"
script = ExtResource( 9 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button" type="Button" parent="2Dworld/PoliciesInput"]
margin_left = 800.0
margin_top = 544.0
margin_right = 1120.0
margin_bottom = 624.0
mouse_default_cursor_shape = 2
theme = ExtResource( 8 )
text = "Valide"
__meta__ = {
"_edit_use_anchors_": false
}
[connection signal="value_changed" from="2Dworld/Slider/HSlider" to="3Dworld" method="_on_Game_Speed_changed"]
[connection signal="pressed" from="2Dworld/Menus/MenuShop/RoofWindTurbines2" to="3Dworld" method="_on_MenuShop_pressed" binds= [ "RoofWindTurbines" ]]
[connection signal="pressed" from="2Dworld/Menus/MenuShop/RoofWindTurbines3" to="3Dworld" method="_on_MenuShop_pressed" binds= [ "RoofWindTurbines" ]]
[connection signal="pressed" from="2Dworld/Menus/MenuShop/RoofWindTurbines4" to="3Dworld" method="_on_MenuShop_pressed" binds= [ "RoofWindTurbines" ]]
[connection signal="pressed" from="2Dworld/Menus/MenuShop/RoofWindTurbines5" to="3Dworld" method="_on_MenuShop_pressed" binds= [ "RoofWindTurbines" ]]
[connection signal="pressed" from="2Dworld/PoliciesInput/Button" to="3Dworld" method="_on_Validate_pressed"]
